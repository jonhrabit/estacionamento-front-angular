<div class="container m-2">
  <h1>Pessoas</h1>
<button class="btn btn-success mb-3" (click)="novaPessoa()">Nova Pessoa</button>
<div class="mb-3">
  <input type="text" class="form-control" placeholder="Filtrar por nome..." [(ngModel)]="filtro"
    (input)="aplicarFiltro()">
</div>
<div *ngIf="pessoasFiltradas.length === 0">
  <div class="alert alert-info">Nenhuma pessoa encontrada.</div>
</div>
<div class="mb-2 text-end" *ngIf="pessoasFiltradas.length > 0">
  <small>Total de registros: {{ pessoasFiltradas.length }}</small>
</div>
<table class="table table-striped" *ngIf="pessoasFiltradas.length > 0">
  <thead>
    <tr>
      <th></th>
      <th>Nome</th>
      <th>ID</th>
      <th>Cargo</th>
      <th>Lotação</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let pessoa of pessoasPaginadas">
      <td>{{ pessoa.id }}</td>
      <td>{{ pessoa.nome }}</td>
      <td>{{ pessoa.numFunc }}</td>
      <td>{{ pessoa.cargo }}</td>
      <td>{{ pessoa.lotacao }}</td>
      <td>
        <button class="btn btn-sm btn-primary me-2" (click)="abrirModalEdicao(pessoa)">
          <i class="bi bi-pencil"></i>
        </button>
        <button class="btn btn-sm btn-danger" (click)="excluirPessoa(pessoa)">
          <i class="bi bi-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<nav *ngIf="pessoasFiltradas.length > itensPorPagina">
  <ul class="pagination">
    <li class="page-item" [class.disabled]="paginaAtual === 1">
      <button class="page-link" (click)="paginaAtual = paginaAtual - 1" [disabled]="paginaAtual === 1">Anterior</button>
    </li>
    <li class="page-item" *ngFor="let pagina of paginasPaginacao" [class.active]="paginaAtual === pagina">
      <button class="page-link" (click)="paginaAtual = pagina">{{ pagina }}</button>
    </li>
    <li class="page-item" [class.disabled]="paginaAtual === totalPaginas">
      <button class="page-link" (click)="paginaAtual = paginaAtual + 1"
        [disabled]="paginaAtual === totalPaginas">Próxima</button>
    </li>
  </ul>
</nav>
</div>
