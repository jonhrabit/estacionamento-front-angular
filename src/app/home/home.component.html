<div class="m-2">
  <div class='row'>
    <div class='col-md-10'>
      <app-inputplaca (acessoRegistrado)="addAcesso($event)"></app-inputplaca>
      <div class="mt-2">
        <h6>Veículos estacionados</h6>
        <table class="table table-striped">
          <thead>
            <tr>
              <th (click)="setOrdenacao('id')" style="cursor:pointer">ID
                <span *ngIf="colunaOrdenacao==='id'">
                  <i
                    [ngClass]="{'bi bi-caret-up-fill': direcaoOrdenacao==='asc', 'bi bi-caret-down-fill': direcaoOrdenacao==='desc'}"></i>
                </span>
              </th>
              <th (click)="setOrdenacao('veiculo')" style="cursor:pointer">Veículo
                <span *ngIf="colunaOrdenacao==='veiculo'">
                  <i
                    [ngClass]="{'bi bi-caret-up-fill': direcaoOrdenacao==='asc', 'bi bi-caret-down-fill': direcaoOrdenacao==='desc'}"></i>
                </span>
              </th>
              <th (click)="setOrdenacao('entrada')" style="cursor:pointer">Data Entrada
                <span *ngIf="colunaOrdenacao==='entrada'">
                  <i
                    [ngClass]="{'bi bi-caret-up-fill': direcaoOrdenacao==='asc', 'bi bi-caret-down-fill': direcaoOrdenacao==='desc'}"></i>
                </span>
              </th>
              <th (click)="setOrdenacao('saida')" style="cursor:pointer">Data Saída
                <span *ngIf="colunaOrdenacao==='saida'">
                  <i
                    [ngClass]="{'bi bi-caret-up-fill': direcaoOrdenacao==='asc', 'bi bi-caret-down-fill': direcaoOrdenacao==='desc'}"></i>
                </span>
              </th>
              <th>Observação</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let acesso of acessos">
              <td>{{ acesso.id }}</td>
              <td>{{ acesso.veiculo.placa }}</td>
              <td>{{ acesso.entrada | date:'short' }}
                @if (compararHorarios(acesso.entrada, acesso.veiculo.horario)==-1) {
                <img src="assets/img/warning.png" alt="antecipado" style="max-width: 32px; max-height: 32px;" /> }
              </td>
              <td>{{ acesso.saida | date:'short'}}</td>
              <td>{{ acesso.observacao }}</td>
              <td>
                <button class="btn btn-sm btn-primary me-2" (click)="abrirModalEdicao(acesso)"><i
                    class="bi bi-pencil"></i></button>
                <button class="btn btn-sm btn-secondary" (click)="registrarSaida(acesso)"><i
                    class="bi bi-box-arrow-right"></i></button>

            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <div class='col-md-2'>
      <app-botao-menu link="/pessoas" icone="bi bi-people-fill" texto="Pessoas"></app-botao-menu>
      <app-botao-menu link="/veiculos" icone="bi bi-car-front-fill" texto="Veículos"></app-botao-menu>
      <app-botao-menu link="/acessos" icone="bi bi-building-fill-up" texto="Acessos"></app-botao-menu>
    </div>
  </div>

</div>
